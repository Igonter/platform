<table>
  <thead>
    <tr *ngFor="let row of tableHeader">
      <th *ngFor="let column of row.columns"
          [attr.colspan]="column.colspan"
          [attr.rowspan]="column.rowspan">
        {{column.label}}
      </th>
    </tr>
  </thead>
  <tbody>
  <tr *ngFor="let item of data">
    <ng-container *ngFor="let row of tableHeader">
      <ng-container *ngFor="let column of row.columns">
        <ng-container *ngIf="column.property" >
          <td [ngSwitch]="column.property">
            <!-- Strategy special data -->
            <ng-container *ngSwitchCase="'age'">{{item.getAgeWeeks()}}</ng-container>

            <ng-container *ngSwitchCase="'name'">
              <a [routerLink]="[getItemLink(item)]">{{item.name}}</a>
            </ng-container>

            <ng-container *ngSwitchCase="'profit'">
              <span [class.positive]="item.profit > 0" [class.negative]="item.profit < 0">{{item.profit | percent:'1.0-2'}}</span>
            </ng-container>

            <ng-container *ngSwitchCase="'account'">
              <div><span>Прибыль:</span><span>{{item.account.intervalPnL}}</span></div>
              <div><span>Цель:</span><span>{{item.account.target}}</span></div>
              <div><span>Средства:</span><span>{{item.account.equity}}</span></div>
              <div><span>Защита:</span><span>{{item.account.protection}}</span></div>
            </ng-container>

            <ng-container *ngSwitchCase="'manage'">
              <app-strategy-manage [strategy]="item"></app-strategy-manage>
            </ng-container>

            <!-- Just show property value -->
            <ng-container *ngSwitchDefault>{{item[column.property]}}</ng-container>
          </td>
        </ng-container>
      </ng-container>
    </ng-container>
    <!--<td *ngFor="let column of columns">-->
      <!--<ng-container [ngSwitch]="column.property">-->
        <!--&lt;!&ndash; Strategy special data &ndash;&gt;-->
        <!--<ng-container *ngSwitchCase="'age'">{{item.getAgeWeeks()}}</ng-container>-->

        <!--&lt;!&ndash; Just show property value &ndash;&gt;-->
        <!--<ng-container *ngSwitchDefault>{{item[column.property]}}</ng-container>-->
      <!--</ng-container>-->

    <!--</td>-->
  </tr>
  </tbody>
</table>
