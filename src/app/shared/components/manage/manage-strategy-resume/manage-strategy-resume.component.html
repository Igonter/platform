<app-dialog-wrapper title="Возобновить" [modalRef]="modalRef">
  <form [formGroup]="form" (ngSubmit)="resume()">

    <div class="form-field">
      <label for="amount" class="field-label">Добавить в инвестицию, USD:</label>
      <div class="input-wrapper">
        <input id="amount"
               type="number"
               formControlName="amount"
               [min]="0"
               [max]="wallet.balance">
        <div class="messages">
          <label class="error-message"
                 *ngIf="form.get('amount').touched && form.get('amount').hasError('required')">
            Пожалуйста, введите сумму инвестиции.
          </label>
          <label class="error-message"
                 *ngIf="form.get('amount').touched && form.get('amount').hasError('min')">
            Пожалуйста, введите корректную сумму инвестиции.
          </label>
          <label class="error-message"
                 *ngIf="form.get('amount').touched && form.get('amount').hasError('max')">
            Вы можете инвестировать только свободные средства.
          </label>
          <label class="error-message"
                 *ngIf="form.get('amount').touched && form.get('amount').hasError('pattern')">
            Пожалуйста, введите корректную сумму вывода.
          </label>
          <label class="details-message">
            Доступно: {{wallet.balance | customCurrency}}
          </label>
        </div>
      </div>
    </div>

    <div class="form-field">
      <label class="field-label">Множитель:</label>
      <div class="input-wrapper">
        <input value="1"
               disabled
               title="Коэффициент копирования. При соотношении более 1,0 копирование идет более агрессивно; увеличивается не только потенциальный доход, но и риск потери. Когда коэффициент меньше 1,0 - наоборот">
      </div>
    </div>

    <div class="form-field">
      <label for="goal" class="field-label">Цель, %:</label>
      <div class="input-wrapper">
        <input id="goal"
               type="number"
               formControlName="goal"
               [min]="0"
               [max]="100"
               title="Целевой доход. При достижении целевого дохода инвестиция будет приостановлена">
        <div class="messages">
          <label class="error-message"
                 *ngIf="form.get('goal').touched && form.get('goal').hasError('required')">
            Цель не задана
          </label>
          <label class="error-message"
                 *ngIf="form.get('goal').touched && form.get('goal').hasError('min')">
            Пожалуйста, введите корректное значение цели.
          </label>
          <label class="details-message" *ngIf="form.get('amount').value && form.get('goal').value">
            {{((form.get('amount').value * form.get('goal').value) / 100) | customCurrency}}
          </label>
        </div>
      </div>
    </div>

    <div class="form-field">
      <label for="protection" class="field-label">Защита, %:</label>
      <div class="input-wrapper">
        <input id="protection"
               type="number"
               formControlName="protection"
               [min]="0"
               [max]="100"
               title="При снижении средств до заданного значения инвестиция будет приостановлена">
        <div class="messages">
          <label class="error-message"
                 *ngIf="form.get('protection').touched && form.get('protection').hasError('required')">
            Защита не задана
          </label>
          <label class="error-message"
                 *ngIf="form.get('protection').touched && form.get('protection').hasError('min')">
            Пожалуйста, введите корректное значение защиты.
          </label>
          <label class="error-message"
                 *ngIf="form.get('amount').touched && form.get('amount').hasError('max')">
            Пожалуйста, введите корректное значение защиты.
          </label>
          <label class="details-message" *ngIf="form.get('amount').value && form.get('protection').value">
            {{((form.get('amount').value * form.get('protection').value) / 100) | customCurrency}}
          </label>
        </div>
      </div>
    </div>

    <div class="dialog-actions">
      <button type="submit" class="primary" [disabled]="!form.valid">Ок</button>
      <button class="primary" (click)="cancel()">Отмена</button>
    </div>
  </form>
</app-dialog-wrapper>
